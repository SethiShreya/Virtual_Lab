<html>
  <head>
    <title>Web AR</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="demo-styles.css">
    <script src="https://github.com/lightlessdays/web-ar/blob/main/focus.js" defer></script>
  </head> 
<body>
  <div id="card">
    <model-viewer src="310.glb"
                  ios-src="iphone/310.usdz"
                  poster="https://raw.githubusercontent.com/lightlessdays/web-ar/main/loading_screen.gif"
                  alt="A 3D model"
                  shadow-intensity="1"
                  position="0 0"
                  camera-controls
                  autoplay
                  auto-rotate ar>

                  <button slot="ar-button" id="ar-button">
                    View in your space
                  </button>
    </model-viewer>
    <section class="attribution">
      <span>
        <h1>Server Rack</h1>
    </section>
  </div>
  <script type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
  </script>

  <script>
    window.addEventListener('load', (event) => {
  // Check if the 'ar' query parameter is set to 'true'
  const urlParams = new URLSearchParams(window.location.search);
  const arParam = urlParams.get('ar');
  
  if (arParam === 'true') {
    // Simulate the AR button click
    document.getElementById('ar-button').click();
  }
});
  </script>
</body>
</html>
